<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ุงูุชุญุงู ุงูููุฒูุงุก</title>
<style>
  body{font-family:Tahoma, sans-serif;background:#f9f9fb;padding:18px}
  h1{text-align:center;margin-bottom:10px}
  .card{background:#fff;padding:14px;border-radius:10px;box-shadow:0 4px 12px rgba(0,0,0,0.06);margin-bottom:12px}
  .timer{font-size:20px;color:#b71c1c;text-align:center;margin-bottom:12px}
  .options label{display:block;margin:6px 0;cursor:pointer}
  .login{max-width:520px;margin:8px auto;padding:12px;background:#fff;border-radius:10px}
  input[type=text]{padding:9px;width:100%;box-sizing:border-box;margin:6px 0}
  button{padding:10px 16px;border-radius:8px;border:none;background:#1976d2;color:#fff;cursor:pointer}
  .small{font-size:13px;color:#555}
  .hidden{display:none}
</style>
</head>
<body>
  <h1>ุงูุชุญุงู ุงูููุฒูุงุก</h1>
  <div class="timer" id="timerDisplay">15:00</div>  <div class="login card" id="loginBox">
    <div class="small">ุฃุฏุฎู ุงูููุฏ (4 ุฃุฑูุงู) ูุงูู Student ID (11 ุฑูู) ูุจุฏุก ุงูุงูุชุญุงู.</div>
    <input type="text" id="codeInput" placeholder="ุงูููุฏ (ูุซุงู: 1234)" maxlength="4">
    <input type="text" id="studentIdInput" placeholder="Student ID - 11 ุฑูู" maxlength="11">
    <button id="startBtn">ุจุฏุก ุงูุงูุชุญุงู</button>
    <div id="loginMsg" class="small" style="color:red;margin-top:8px"></div>
  </div>  <form id="examForm" class="hidden"><!-- ุฃุณุฆูุฉ ุงูููุฒูุงุก 10 -->
<div class="card question">
  <p>1) ูุง ูุญุฏุฉ ููุงุณ ุงูููุฉุ</p>
  <div class="options">
    <label><input type="radio" name="q1" value="A"> A) ูููุชู (N)</label>
    <label><input type="radio" name="q1" value="B"> B) ุฌูู (J)</label>
    <label><input type="radio" name="q1" value="C"> C) ูุงุท (W)</label>
    <label><input type="radio" name="q1" value="D"> D) ูููู (K)</label>
  </div>
</div>

<div class="card question">
  <p>2) ุงูุญุฑูุฉ ุงูุชู ูุง ุชุชุบูุฑ ูููุง ุงูุณุฑุนุฉ ุชุณูู:</p>
  <div class="options">
    <label><input type="radio" name="q2" value="A"> A) ุญุฑูุฉ ููุชุธูุฉ</label>
    <label><input type="radio" name="q2" value="B"> B) ุญุฑูุฉ ูุชุณุงุฑุนุฉ</label>
    <label><input type="radio" name="q2" value="C"> C) ุญุฑูุฉ ูุชุจุงุทุฆุฉ</label>
    <label><input type="radio" name="q2" value="D"> D) ุญุฑูุฉ ุฏุงุฆุฑูุฉ</label>
  </div>
</div>

<div class="card question">
  <p>3) ูุง ุตูุบุฉ ุงูุณุฑุนุฉ ุงููุชุฌูุฉ (v)ุ</p>
  <div class="options">
    <label><input type="radio" name="q3" value="A"> A) ุงููุณุงูุฉ / ุงูุฒูู</label>
    <label><input type="radio" name="q3" value="B"> B) ุงูุฅุฒุงุญุฉ / ุงูุฒูู</label>
    <label><input type="radio" name="q3" value="C"> C) ุงูููุฉ / ุงููุชูุฉ</label>
    <label><input type="radio" name="q3" value="D"> D) ุงูุดุบู / ุงูุฒูู</label>
  </div>
</div>

<div class="card question">
  <p>4) ุงูุทุงูุฉ ุงูุญุฑููุฉ ูุฌุณู ูุง ุชุนุชูุฏ ุนูู:</p>
  <div class="options">
    <label><input type="radio" name="q4" value="A"> A) ุงููุชูุฉ ูุงูุณุฑุนุฉ</label>
    <label><input type="radio" name="q4" value="B"> B) ุงููุชูุฉ ููุท</label>
    <label><input type="radio" name="q4" value="C"> C) ุงูุณุฑุนุฉ ููุท</label>
    <label><input type="radio" name="q4" value="D"> D) ุงูููู</label>
  </div>
</div>

<div class="card question">
  <p>5) ูุง ูุญุฏุฉ ุงูุทุงูุฉุ</p>
  <div class="options">
    <label><input type="radio" name="q5" value="A"> A) ุฌูู (J)</label>
    <label><input type="radio" name="q5" value="B"> B) ูููุชู (N)</label>
    <label><input type="radio" name="q5" value="C"> C) ูุชุฑ (m)</label>
    <label><input type="radio" name="q5" value="D"> D) ุฃูุจูุฑ (A)</label>
  </div>
</div>

<div class="card question">
  <p>6) ุฃู ูู ุงูุชุงูู ูุซุงู ุนูู ุทุงูุฉ ูุญุชููุฉุ</p>
  <div class="options">
    <label><input type="radio" name="q6" value="A"> A) ุฌุณู ูุฑุชูุน ููู ุณุทุญ ุงูุฃุฑุถ</label>
    <label><input type="radio" name="q6" value="B"> B) ุฌุณู ูู ุญุฑูุฉ</label>
    <label><input type="radio" name="q6" value="C"> C) ุถูุก ุณุงุทุน</label>
    <label><input type="radio" name="q6" value="D"> D) ุชูุงุฑ ููุฑุจุงุฆู</label>
  </div>
</div>

<div class="card question">
  <p>7) ูุง ุงูุนูุงูุฉ ุจูู ุงูููุฉ (F)ุ ุงููุชูุฉ (m)ุ ูุงูุชุณุงุฑุน (a)ุ</p>
  <div class="options">
    <label><input type="radio" name="q7" value="A"> A) F = m / a</label>
    <label><input type="radio" name="q7" value="B"> B) F = m * a</label>
    <label><input type="radio" name="q7" value="C"> C) F = a / m</label>
    <label><input type="radio" name="q7" value="D"> D) F = m + a</label>
  </div>
</div>

<div class="card question">
  <p>8) ุงูุถูุก ูุณูุฑ ุจุณุฑุนุฉ ุชูุฑูุจูุฉ ูุฏุฑูุง:</p>
  <div class="options">
    <label><input type="radio" name="q8" value="A"> A) 300,000 ูู/ุซ</label>
    <label><input type="radio" name="q8" value="B"> B) 150,000 ูู/ุซ</label>
    <label><input type="radio" name="q8" value="C"> C) 30,000 ูู/ุซ</label>
    <label><input type="radio" name="q8" value="D"> D) 3,000 ูู/ุซ</label>
  </div>
</div>

<div class="card question">
  <p>9) ุฃู ูู ุงูุชุงูู ูุญุฏุฉ ููุงุณ ุงูุดุญูุฉ ุงูููุฑุจุงุฆูุฉุ</p>
  <div class="options">
    <label><input type="radio" name="q9" value="A"> A) ูููุช (V)</label>
    <label><input type="radio" name="q9" value="B"> B) ุฃูุจูุฑ (A)</label>
    <label><input type="radio" name="q9" value="C"> C) ููููู (C)</label>
    <label><input type="radio" name="q9" value="D"> D) ูุงุท (W)</label>
  </div>
</div>

<div class="card question">
  <p>10) ูุง ุงูุฎุงุตูุฉ ุงูุชู ุชุญุฏุฏ ููุงููุฉ ููุตูุ</p>
  <div class="options">
    <label><input type="radio" name="q10" value="A"> A) ุทูู ุงูููุตูู ููุทุฑู ูุงููุงุฏุฉ</label>
    <label><input type="radio" name="q10" value="B"> B) ูููู</label>
    <label><input type="radio" name="q10" value="C"> C) ุดููู ุงูููุฏุณู ููุท</label>
    <label><input type="radio" name="q10" value="D"> D) ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ููุท</label>
  </div>
</div>

<div style="text-align:center;margin-top:12px">
  <div class="small">* ูุง ุชุณูุญ ุจุงูุฏุฎูู ุฅูุง ุจููุฏ ุตุญูุญ ูุบูุฑ ูุณุชุฎุฏู</div>
  <button type="submit">ุฅุฑุณุงู ุงูุงูุชุญุงู</button>
</div>

  </form><script>
/* ====== ุถุน ุงูุชููู ูChat ID ููุง ====== */
const TELEGRAM_BOT_TOKEN = '8182981848:AAFESqf1hVM0JSEvywhXJdk5asGJlOq6q00';
const TELEGRAM_CHAT_ID = '7020597309';
/* ================================== */

const VALID_CODES = [
"0478","0146","0348","0452","0509","0514","0561","0562","0789","0844",
"0893","0963","1041","1103","1179","1254","1327","1370","1491","1516",
"1548","1590","1642","1762","1839","1884","1920","2035","2140","2251",
"2330","2418","2546","2678","2743","2831","2950","3012","3129","3277",
"3344","3471","3553","3660","3721","3876","3904","4028","4170","4235",
"4311","4457","4570","4602","4729","4830","4912","5007","5140","5239",
"5361","5440","5509","5633","5777","5830","5931","6048","6112","6279",
"6374","6450","6511","6632","6745","6819","6950","7018","7133","7240",
"7371","7482","7590","7614","7728","7833","7945","8017","8130","8275",
"8336","8444","8559","8642","8770","8831","8940","9016","9132","9255",
"9340","9471","9582","9620","9743","9851","9960"
];

const USED_CODES_KEY = 'usedExamCodes';
const CORRECT_ANSWERS = { q1:'A', q2:'B', q3:'C', q4:'B', q5:'A', q6:'B', q7:'A', q8:'A', q9:'C', q10:'A' };

let timerInterval = null;
let totalSeconds = 15*60;
let startTimestamp = null;
let currentCode = null;
let currentStudentId = null;

function loadUsedCodes(){ try{ return JSON.parse(localStorage.getItem(USED_CODES_KEY) || '[]'); }catch(e){ return []; } }
function saveUsedCode(code){ const arr = loadUsedCodes(); if(!arr.includes(code)) arr.push(code); localStorage.setItem(USED_CODES_KEY, JSON.stringify(arr)); }

function startTimer(){ const display = document.getElementById('timerDisplay'); const saved = sessionStorage.getItem(`exam_${currentCode}_start_${location.pathname}`); if(saved){ startTimestamp = parseInt(saved,10); const elapsed = Math.floor((Date.now()-startTimestamp)/1000); totalSeconds = Math.max(0, 15*60 - elapsed); } else { startTimestamp = Date.now(); sessionStorage.setItem(`exam_${currentCode}_start_${location.pathname}`, String(startTimestamp)); } timerInterval = setInterval(()=>{ const m = Math.floor(totalSeconds/60).toString().padStart(2,'0'); const s = (totalSeconds%60).toString().padStart(2,'0'); display.textContent = `${m}:${s}`; if(totalSeconds<=0){ clearInterval(timerInterval); alert('ุงูุชูู ุงูููุช! ุณูุชู ุฅุฑุณุงู ุงูุงูุชุญุงู ุชููุงุฆููุง.'); submitExam(true); } totalSeconds--; },1000); }

function collectAnswers(){ const out={}; for(let i=1;i<=10;i++){ const el = document.querySelector(`input[name=q${i}]:checked`); out['q'+i] = el ? el.value : ''; } return out; }
function computeResults(answers){ let score=0; const details={}; for(const k in CORRECT_ANSWERS){ const correct = CORRECT_ANSWERS[k]; const chosen = answers[k] || ''; const ok = chosen === correct; details[k] = { chosen, correct, ok }; if(ok) score++; } return {score, details}; }

function formatTelegramMessage(subject, studentId, code, answers, results, timeTakenSec){ const now = new Date(); let txt = `๐ *ุงูุชุญุงู: ${subject}*\n`; txt += `๐ค Student ID: ${studentId}\n`; txt += `๐ Code: ${code}\n`; txt += `โฑ๏ธ ุงูููุช ุงููุฃุฎูุฐ: ${timeTakenSec} ุซุงููุฉ\n`; txt += `๐ ููุช ุงูุฅุฑุณุงู: ${now.toLocaleString('ar-EG')}\n`; txt += `\n*ุงูุชูุงุตูู:*\n`; for(const q in results.details){ const d = results.details[q]; txt += `${q} - ุงุฎุชุฑ: ${d.chosen || '---'} | ุงูุตุญ: ${d.correct} => ${d.ok ? 'โ' : 'โ'}\n`; } txt += `\n*ุงููุชูุฌุฉ:* ${results.score} / 10\n`; return txt; }

async function sendToTelegram(message){ const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`; try{ const res = await fetch(url,{ method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ chat_id: TELEGRAM_CHAT_ID, text: message, parse_mode: 'Markdown' }) }); return res.ok; }catch(e){ console.error(e); return false; } }

async function submitExam(auto=false){ const answers = collectAnswers(); const results = computeResults(answers); const now = Date.now(); const timeTakenSec = Math.floor((now - startTimestamp)/1000); const msg = formatTelegramMessage('ุงูููุฒูุงุก', currentStudentId, currentCode, answers, results, timeTakenSec); const ok = await sendToTelegram(msg); if(ok){ alert('ุชู ุฅุฑุณุงู ุงูุงูุชุญุงู ุฅูู ุงูุชูุฌุฑุงู.'); saveUsedCode(currentCode); sessionStorage.setItem(`exam_${currentCode}_submitted_${location.pathname}`, '1'); document.getElementById('examForm').querySelectorAll('input,button').forEach(el=>el.disabled=true); sessionStorage.removeItem(`exam_${currentCode}_start_${location.pathname}`); }else{ alert('ูุดู ูู ุฅุฑุณุงู ุงูุฑุณุงูุฉ. ุชุญูู ูู ุงูุชููู/Chat ID ุฃู ุงุชุตุงู ุงูุฅูุชุฑูุช.'); if(!auto){ startTimer(); } } }

document.getElementById('startBtn').addEventListener('click', ()=>{ const code = (document.getElementById('codeInput').value || '').trim(); const studentId = (document.getElementById('studentIdInput').value || '').trim(); const msgEl = document.getElementById('loginMsg'); msgEl.textContent = ''; if(!/^\d{4}$/.test(code)){ msgEl.textContent = 'ุงูููุฏ ูุฌุจ ุฃู ูููู 4 ุฃุฑูุงู.'; return; } if(!/^\d{11}$/.test(studentId)){ msgEl.textContent = 'Student ID ูุฌุจ ุฃู ูููู 11 ุฑููุงู.'; return; } if(!VALID_CODES.includes(code)){ msgEl.textContent = 'ุงูููุฏ ุบูุฑ ุตุญูุญ.'; return; } const used = loadUsedCodes(); if(used.includes(code)){ msgEl.textContent = 'ูุฐุง ุงูููุฏ ูุณุชุฎุฏู ุจุงููุนู ููุง ูููู ุงูุฏุฎูู.'; return; } if(sessionStorage.getItem(`exam_${code}_submitted_${location.pathname}`)){ msgEl.textContent = 'ุชู ุชุณููู ุงูุงูุชุญุงู ุณุงุจูุงู ุจุงุณุชุฎุฏุงู ูุฐุง ุงูููุฏ.'; return; } currentCode = code; currentStudentId = studentId; document.getElementById('loginBox').classList.add('hidden'); document.getElementById('examForm').classList.remove('hidden'); startTimer(); });

document.getElementById('examForm').addEventListener('submit', function(e){ e.preventDefault(); clearInterval(timerInterval); submitExam(false); });

</script></body>
</html>